import{i as St,a as ae,c as vt,b as Nt,d as Le,e as Lt}from"./redux-BXkGT1VS.js";import{p as Se,i as Ke,a as Rt,e as zt,b as Ze,c as wt,o as Bt}from"./immer-wg3nsl30.js";import{t as Vt,w as $t}from"./redux-thunk-ClJT1hhx.js";import{S as Kt}from"./@standard-schema-HQFRkWmf.js";import{w as et,a as Et}from"./reselect-Bl2Eatbe.js";import{b as Ht,u as Wt,a as Jt,c as Gt,s as he}from"./react-redux-ayJ_JU2f.js";import{r as U}from"./react-CTDeDV5q.js";var Xt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Le:Le.apply(null,arguments)},Yt=e=>e&&typeof e.match=="function";function J(e,t){function i(...a){if(t){let d=t(...a);if(!d)throw new Error(G(0));return{type:e,payload:d.payload,..."meta"in d&&{meta:d.meta},..."error"in d&&{error:d.error}}}return{type:e,payload:a[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=a=>St(a)&&a.type===e,i}var Pt=class ye extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ye.prototype)}static get[Symbol.species](){return ye}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ye(...t[0].concat(this)):new ye(...t.concat(this))}};function tt(e){return Ke(e)?Se(e,()=>{}):e}function Re(e,t,i){return e.has(t)?e.get(t):e.set(t,i(t)).get(t)}function Zt(e){return typeof e=="boolean"}var en=()=>function(t){const{thunk:i=!0,immutableCheck:a=!0,serializableCheck:d=!0,actionCreatorCheck:S=!0}=t??{};let b=new Pt;return i&&(Zt(i)?b.push(Vt):b.push($t(i.extraArgument))),b},Ce="RTK_autoBatch",de=()=>e=>({payload:e,meta:{[Ce]:!0}}),nt=e=>t=>{setTimeout(t,e)},tn=(e={type:"raf"})=>t=>(...i)=>{const a=t(...i);let d=!0,S=!1,b=!1;const q=new Set,P=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nt(10):e.type==="callback"?e.queueNotification:nt(e.timeout),w=()=>{b=!1,S&&(S=!1,q.forEach(A=>A()))};return Object.assign({},a,{subscribe(A){const R=()=>d&&A(),h=a.subscribe(R);return q.add(A),()=>{h(),q.delete(A)}},dispatch(A){try{return d=!A?.meta?.[Ce],S=!d,S&&(b||(b=!0,P(w))),a.dispatch(A)}finally{d=!0}}})},nn=e=>function(i){const{autoBatch:a=!0}=i??{};let d=new Pt(e);return a&&d.push(tn(typeof a=="object"?a:void 0)),d};function fr(e){const t=en(),{reducer:i=void 0,middleware:a,devTools:d=!0,preloadedState:S=void 0,enhancers:b=void 0}=e||{};let q;if(typeof i=="function")q=i;else if(ae(i))q=vt(i);else throw new Error(G(1));let P;typeof a=="function"?P=a(t):P=t();let w=Le;d&&(w=Xt({trace:!1,...typeof d=="object"&&d}));const A=Nt(...P),R=nn(A);let h=typeof b=="function"?b(R):R();const y=w(...h);return Lt(q,S,y)}function Mt(e){const t={},i=[];let a;const d={addCase(S,b){const q=typeof S=="string"?S:S.type;if(!q)throw new Error(G(28));if(q in t)throw new Error(G(29));return t[q]=b,d},addMatcher(S,b){return i.push({matcher:S,reducer:b}),d},addDefaultCase(S){return a=S,d}};return e(d),[t,i,a]}function rn(e){return typeof e=="function"}function sn(e,t){let[i,a,d]=Mt(t),S;if(rn(e))S=()=>tt(e());else{const q=tt(e);S=()=>q}function b(q=S(),P){let w=[i[P.type],...a.filter(({matcher:A})=>A(P)).map(({reducer:A})=>A)];return w.filter(A=>!!A).length===0&&(w=[d]),w.reduce((A,R)=>{if(R)if(Rt(A)){const y=R(A,P);return y===void 0?A:y}else{if(Ke(A))return Se(A,h=>R(h,P));{const h=R(A,P);if(h===void 0){if(A===null)return A;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return A},q)}return b.getInitialState=S,b}var At=(e,t)=>Yt(e)?e.match(t):e(t);function Z(...e){return t=>e.some(i=>At(i,t))}function me(...e){return t=>e.every(i=>At(i,t))}function De(e,t){if(!e||!e.meta)return!1;const i=typeof e.meta.requestId=="string",a=t.indexOf(e.meta.requestStatus)>-1;return i&&a}function ve(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function He(...e){return e.length===0?t=>De(t,["pending"]):ve(e)?Z(...e.map(t=>t.pending)):He()(e[0])}function ce(...e){return e.length===0?t=>De(t,["rejected"]):ve(e)?Z(...e.map(t=>t.rejected)):ce()(e[0])}function Oe(...e){const t=i=>i&&i.meta&&i.meta.rejectedWithValue;return e.length===0?me(ce(...e),t):ve(e)?me(ce(...e),t):Oe()(e[0])}function ne(...e){return e.length===0?t=>De(t,["fulfilled"]):ve(e)?Z(...e.map(t=>t.fulfilled)):ne()(e[0])}function ze(...e){return e.length===0?t=>De(t,["pending","fulfilled","rejected"]):ve(e)?Z(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):ze()(e[0])}var on="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",We=(e=21)=>{let t="",i=e;for(;i--;)t+=on[Math.random()*64|0];return t},un=["name","message","stack","code"],_e=class{constructor(e,t){this.payload=e,this.meta=t}_type},rt=class{constructor(e,t){this.payload=e,this.meta=t}_type},an=e=>{if(typeof e=="object"&&e!==null){const t={};for(const i of un)typeof e[i]=="string"&&(t[i]=e[i]);return t}return{message:String(e)}},it="External signal was aborted",st=(()=>{function e(t,i,a){const d=J(t+"/fulfilled",(P,w,A,R)=>({payload:P,meta:{...R||{},arg:A,requestId:w,requestStatus:"fulfilled"}})),S=J(t+"/pending",(P,w,A)=>({payload:void 0,meta:{...A||{},arg:w,requestId:P,requestStatus:"pending"}})),b=J(t+"/rejected",(P,w,A,R,h)=>({payload:R,error:(a&&a.serializeError||an)(P||"Rejected"),meta:{...h||{},arg:A,requestId:w,rejectedWithValue:!!R,requestStatus:"rejected",aborted:P?.name==="AbortError",condition:P?.name==="ConditionError"}}));function q(P,{signal:w}={}){return(A,R,h)=>{const y=a?.idGenerator?a.idGenerator(P):We(),I=new AbortController;let Q,M;function f(u){M=u,I.abort()}w&&(w.aborted?f(it):w.addEventListener("abort",()=>f(it),{once:!0}));const C=async function(){let u;try{let l=a?.condition?.(P,{getState:R,extra:h});if(ln(l)&&(l=await l),l===!1||I.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const v=new Promise((m,E)=>{Q=()=>{E({name:"AbortError",message:M||"Aborted"})},I.signal.addEventListener("abort",Q)});A(S(y,P,a?.getPendingMeta?.({requestId:y,arg:P},{getState:R,extra:h}))),u=await Promise.race([v,Promise.resolve(i(P,{dispatch:A,getState:R,extra:h,requestId:y,signal:I.signal,abort:f,rejectWithValue:(m,E)=>new _e(m,E),fulfillWithValue:(m,E)=>new rt(m,E)})).then(m=>{if(m instanceof _e)throw m;return m instanceof rt?d(m.payload,y,P,m.meta):d(m,y,P)})])}catch(l){u=l instanceof _e?b(null,y,P,l.payload,l.meta):b(l,y,P)}finally{Q&&I.signal.removeEventListener("abort",Q)}return a&&!a.dispatchConditionRejection&&b.match(u)&&u.meta.condition||A(u),u}();return Object.assign(C,{abort:f,requestId:y,arg:P,unwrap(){return C.then(cn)}})}}return Object.assign(q,{pending:S,rejected:b,fulfilled:d,settled:Z(b,d),typePrefix:t})}return e.withTypes=()=>e,e})();function cn(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function ln(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var dn=Symbol.for("rtk-slice-createasyncthunk");function fn(e,t){return`${e}/${t}`}function pn({creators:e}={}){const t=e?.asyncThunk?.[dn];return function(a){const{name:d,reducerPath:S=d}=a;if(!d)throw new Error(G(11));const b=(typeof a.reducers=="function"?a.reducers(hn()):a.reducers)||{},q=Object.keys(b),P={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(u,n){const l=typeof u=="string"?u:u.type;if(!l)throw new Error(G(12));if(l in P.sliceCaseReducersByType)throw new Error(G(13));return P.sliceCaseReducersByType[l]=n,w},addMatcher(u,n){return P.sliceMatchers.push({matcher:u,reducer:n}),w},exposeAction(u,n){return P.actionCreators[u]=n,w},exposeCaseReducer(u,n){return P.sliceCaseReducersByName[u]=n,w}};q.forEach(u=>{const n=b[u],l={reducerName:u,type:fn(d,u),createNotation:typeof a.reducers=="function"};gn(n)?Sn(l,n,w,t):mn(l,n,w)});function A(){const[u={},n=[],l=void 0]=typeof a.extraReducers=="function"?Mt(a.extraReducers):[a.extraReducers],v={...u,...P.sliceCaseReducersByType};return sn(a.initialState,m=>{for(let E in v)m.addCase(E,v[E]);for(let E of P.sliceMatchers)m.addMatcher(E.matcher,E.reducer);for(let E of n)m.addMatcher(E.matcher,E.reducer);l&&m.addDefaultCase(l)})}const R=u=>u,h=new Map,y=new WeakMap;let I;function Q(u,n){return I||(I=A()),I(u,n)}function M(){return I||(I=A()),I.getInitialState()}function f(u,n=!1){function l(m){let E=m[u];return typeof E>"u"&&n&&(E=Re(y,l,M)),E}function v(m=R){const E=Re(h,n,()=>new WeakMap);return Re(E,m,()=>{const p={};for(const[s,r]of Object.entries(a.selectors??{}))p[s]=yn(r,m,()=>Re(y,m,M),n);return p})}return{reducerPath:u,getSelectors:v,get selectors(){return v(l)},selectSlice:l}}const C={name:d,reducer:Q,actions:P.actionCreators,caseReducers:P.sliceCaseReducersByName,getInitialState:M,...f(S),injectInto(u,{reducerPath:n,...l}={}){const v=n??S;return u.inject({reducerPath:v,reducer:Q},l),{...C,...f(v,!0)}}};return C}}function yn(e,t,i,a){function d(S,...b){let q=t(S);return typeof q>"u"&&a&&(q=i()),e(q,...b)}return d.unwrapped=e,d}var oe=pn();function hn(){function e(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:e}}function mn({type:e,reducerName:t,createNotation:i},a,d){let S,b;if("reducer"in a){if(i&&!bn(a))throw new Error(G(17));S=a.reducer,b=a.prepare}else S=a;d.addCase(e,S).exposeCaseReducer(t,S).exposeAction(t,b?J(e,b):J(e))}function gn(e){return e._reducerDefinitionType==="asyncThunk"}function bn(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Sn({type:e,reducerName:t},i,a,d){if(!d)throw new Error(G(18));const{payloadCreator:S,fulfilled:b,pending:q,rejected:P,settled:w,options:A}=i,R=d(e,S,A);a.exposeAction(t,R),b&&a.addCase(R.fulfilled,b),q&&a.addCase(R.pending,q),P&&a.addCase(R.rejected,P),w&&a.addMatcher(R.settled,w),a.exposeCaseReducer(t,{fulfilled:b||we,pending:q||we,rejected:P||we,settled:w||we})}function we(){}function G(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qt=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(qt||{});function ot(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var ut=ae;function It(e,t){if(e===t||!(ut(e)&&ut(t)||Array.isArray(e)&&Array.isArray(t)))return t;const i=Object.keys(t),a=Object.keys(e);let d=i.length===a.length;const S=Array.isArray(t)?[]:{};for(const b of i)S[b]=It(e[b],t[b]),d&&(d=e[b]===S[b]);return d?e:S}function ue(e){let t=0;for(const i in e)t++;return t}var at=e=>[].concat(...e);function vn(e){return new RegExp("(^|:)//").test(e)}function Rn(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function qe(e){return e!=null}function wn(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var En=e=>e.replace(/\/$/,""),Pn=e=>e.replace(/^\//,"");function Mn(e,t){if(!e)return t;if(!t)return e;if(vn(t))return t;const i=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=En(e),t=Pn(t),`${e}${i}${t}`}function An(e,t,i){return e.has(t)?e.get(t):e.set(t,i).get(t)}var ct=(...e)=>fetch(...e),qn=e=>e.status>=200&&e.status<=299,In=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function lt(e){if(!ae(e))return e;const t={...e};for(const[i,a]of Object.entries(t))a===void 0&&delete t[i];return t}function pr({baseUrl:e,prepareHeaders:t=R=>R,fetchFn:i=ct,paramsSerializer:a,isJsonContentType:d=In,jsonContentType:S="application/json",jsonReplacer:b,timeout:q,responseHandler:P,validateStatus:w,...A}={}){return typeof fetch>"u"&&i===ct&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(h,y,I)=>{const{getState:Q,extra:M,endpoint:f,forced:C,type:u}=y;let n,{url:l,headers:v=new Headers(A.headers),params:m=void 0,responseHandler:E=P??"json",validateStatus:p=w??qn,timeout:s=q,...r}=typeof h=="string"?{url:h}:h,o,c=y.signal;s&&(o=new AbortController,y.signal.addEventListener("abort",o.abort),c=o.signal);let g={...A,signal:c,...r};v=new Headers(lt(v)),g.headers=await t(v,{getState:Q,arg:h,extra:M,endpoint:f,forced:C,type:u,extraOptions:I})||v;const D=x=>typeof x=="object"&&(ae(x)||Array.isArray(x)||typeof x.toJSON=="function");if(!g.headers.has("content-type")&&D(g.body)&&g.headers.set("content-type",S),D(g.body)&&d(g.headers)&&(g.body=JSON.stringify(g.body,b)),m){const x=~l.indexOf("?")?"&":"?",_=a?a(m):new URLSearchParams(lt(m));l+=x+_}l=Mn(e,l);const O=new Request(l,g);n={request:new Request(l,g)};let j,k=!1,F=o&&setTimeout(()=>{k=!0,o.abort()},s);try{j=await i(O)}catch(x){return{error:{status:k?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(x)},meta:n}}finally{F&&clearTimeout(F),o?.signal.removeEventListener("abort",o.abort)}const L=j.clone();n.response=L;let $,N="";try{let x;if(await Promise.all([R(j,E).then(_=>$=_,_=>x=_),L.text().then(_=>N=_,()=>{})]),x)throw x}catch(x){return{error:{status:"PARSING_ERROR",originalStatus:j.status,data:N,error:String(x)},meta:n}}return p(j,$)?{data:$,meta:n}:{error:{status:j.status,data:$},meta:n}};async function R(h,y){if(typeof y=="function")return y(h);if(y==="content-type"&&(y=d(h.headers)?"json":"text"),y==="json"){const I=await h.text();return I.length?JSON.parse(I):null}return h.text()}}var dt=class{constructor(e,t=void 0){this.value=e,this.meta=t}},Je=J("__rtkq/focused"),Qt=J("__rtkq/unfocused"),Ge=J("__rtkq/online"),Ct=J("__rtkq/offline");function Te(e){return e.type==="query"}function Qn(e){return e.type==="mutation"}function ke(e){return e.type==="infinitequery"}function Ie(e){return Te(e)||ke(e)}function Xe(e,t,i,a,d,S){return Cn(e)?e(t,i,a,d).filter(qe).map(Be).map(S):Array.isArray(e)?e.map(Be).map(S):[]}function Cn(e){return typeof e=="function"}function Be(e){return typeof e=="string"?{type:e}:e}function Dn(e,t){return e.catch(t)}var ge=Symbol("forceQueryFn"),Ve=e=>typeof e[ge]=="function";function On({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:i,mutationThunk:a,api:d,context:S}){const b=new Map,q=new Map,{unsubscribeQueryResult:P,removeMutationResult:w,updateSubscriptionOptions:A}=d.internalActions;return{buildInitiateQuery:M,buildInitiateInfiniteQuery:f,buildInitiateMutation:C,getRunningQueryThunk:R,getRunningMutationThunk:h,getRunningQueriesThunk:y,getRunningMutationsThunk:I};function R(u,n){return l=>{const v=S.endpointDefinitions[u],m=e({queryArgs:n,endpointDefinition:v,endpointName:u});return b.get(l)?.[m]}}function h(u,n){return l=>q.get(l)?.[n]}function y(){return u=>Object.values(b.get(u)||{}).filter(qe)}function I(){return u=>Object.values(q.get(u)||{}).filter(qe)}function Q(u,n){const l=(v,{subscribe:m=!0,forceRefetch:E,subscriptionOptions:p,[ge]:s,...r}={})=>(o,c)=>{const g=e({queryArgs:v,endpointDefinition:n,endpointName:u});let D;const O={...r,type:"query",subscribe:m,forceRefetch:E,subscriptionOptions:p,endpointName:u,originalArgs:v,queryCacheKey:g,[ge]:s};if(Te(n))D=t(O);else{const{direction:z,initialPageParam:H}=r;D=i({...O,direction:z,initialPageParam:H})}const T=d.endpoints[u].select(v),j=o(D),k=T(c()),{requestId:F,abort:L}=j,$=k.requestId!==F,N=b.get(o)?.[g],x=()=>T(c()),_=Object.assign(s?j.then(x):$&&!N?Promise.resolve(k):Promise.all([N,j]).then(x),{arg:v,requestId:F,subscriptionOptions:p,queryCacheKey:g,abort:L,async unwrap(){const z=await _;if(z.isError)throw z.error;return z.data},refetch:()=>o(l(v,{subscribe:!1,forceRefetch:!0})),unsubscribe(){m&&o(P({queryCacheKey:g,requestId:F}))},updateSubscriptionOptions(z){_.subscriptionOptions=z,o(A({endpointName:u,requestId:F,queryCacheKey:g,options:z}))}});if(!N&&!$&&!s){const z=An(b,o,{});z[g]=_,_.then(()=>{delete z[g],ue(z)||b.delete(o)})}return _};return l}function M(u,n){return Q(u,n)}function f(u,n){return Q(u,n)}function C(u){return(n,{track:l=!0,fixedCacheKey:v}={})=>(m,E)=>{const p=a({type:"mutation",endpointName:u,originalArgs:n,track:l,fixedCacheKey:v}),s=m(p),{requestId:r,abort:o,unwrap:c}=s,g=Dn(s.unwrap().then(j=>({data:j})),j=>({error:j})),D=()=>{m(w({requestId:r,fixedCacheKey:v}))},O=Object.assign(g,{arg:s.arg,requestId:r,abort:o,unwrap:c,reset:D}),T=q.get(m)||{};return q.set(m,T),T[r]=O,O.then(()=>{delete T[r],ue(T)||q.delete(m)}),v&&(T[v]=O,O.then(()=>{T[v]===O&&(delete T[v],ue(T)||q.delete(m))})),O}}}var Dt=class extends Kt{constructor(e,t,i,a){super(e),this.value=t,this.schemaName=i,this._bqMeta=a}};async function re(e,t,i,a){const d=await e["~standard"].validate(t);if(d.issues)throw new Dt(d.issues,t,i,a);return d.value}function Tn(e){return e}var fe=(e={})=>({...e,[Ce]:!0});function kn({reducerPath:e,baseQuery:t,context:{endpointDefinitions:i},serializeQueryArgs:a,api:d,assertTagType:S,selectors:b,onSchemaFailure:q,catchSchemaFailure:P,skipSchemaValidation:w}){const A=(r,o,c,g)=>(D,O)=>{const T=i[r],j=a({queryArgs:o,endpointDefinition:T,endpointName:r});if(D(d.internalActions.queryResultPatched({queryCacheKey:j,patches:c})),!g)return;const k=d.endpoints[r].select(o)(O()),F=Xe(T.providesTags,k.data,void 0,o,{},S);D(d.internalActions.updateProvidedBy([{queryCacheKey:j,providedTags:F}]))};function R(r,o,c=0){const g=[o,...r];return c&&g.length>c?g.slice(0,-1):g}function h(r,o,c=0){const g=[...r,o];return c&&g.length>c?g.slice(1):g}const y=(r,o,c,g=!0)=>(D,O)=>{const j=d.endpoints[r].select(o)(O()),k={patches:[],inversePatches:[],undo:()=>D(d.util.patchQueryData(r,o,k.inversePatches,g))};if(j.status==="uninitialized")return k;let F;if("data"in j)if(Ke(j.data)){const[L,$,N]=wt(j.data,c);k.patches.push(...$),k.inversePatches.push(...N),F=L}else F=c(j.data),k.patches.push({op:"replace",path:[],value:F}),k.inversePatches.push({op:"replace",path:[],value:j.data});return k.patches.length===0||D(d.util.patchQueryData(r,o,k.patches,g)),k},I=(r,o,c)=>g=>g(d.endpoints[r].initiate(o,{subscribe:!1,forceRefetch:!0,[ge]:()=>({data:c})})),Q=(r,o)=>r.query&&r[o]?r[o]:Tn,M=async(r,{signal:o,abort:c,rejectWithValue:g,fulfillWithValue:D,dispatch:O,getState:T,extra:j})=>{const k=i[r.endpointName],{metaSchema:F,skipSchemaValidation:L=w}=k;try{let $=Q(k,"transformResponse");const N={signal:o,abort:c,dispatch:O,getState:T,extra:j,endpoint:r.endpointName,type:r.type,forced:r.type==="query"?f(r,T()):void 0,queryCacheKey:r.type==="query"?r.queryCacheKey:void 0},x=r.type==="query"?r[ge]:void 0;let _;const z=async(B,V,K,ie)=>{if(V==null&&B.pages.length)return Promise.resolve({data:B});const ee={queryArg:r.originalArgs,pageParam:V},se=await H(ee),X=ie?R:h;return{data:{pages:X(B.pages,se.data,K),pageParams:X(B.pageParams,V,K)},meta:se.meta}};async function H(B){let V;const{extraOptions:K,argSchema:ie,rawResponseSchema:ee,responseSchema:se}=k;if(ie&&!L&&(B=await re(ie,B,"argSchema",{})),x?V=x():k.query?V=await t(k.query(B),N,K):V=await k.queryFn(B,N,K,le=>t(le,N,K)),typeof process<"u",V.error)throw new dt(V.error,V.meta);let{data:X}=V;ee&&!L&&(X=await re(ee,V.data,"rawResponseSchema",V.meta));let te=await $(X,V.meta,B);return se&&!L&&(te=await re(se,te,"responseSchema",V.meta)),{...V,data:te}}if(r.type==="query"&&"infiniteQueryOptions"in k){const{infiniteQueryOptions:B}=k,{maxPages:V=1/0}=B;let K;const ie={pages:[],pageParams:[]},ee=b.selectQueryEntry(T(),r.queryCacheKey)?.data,X=f(r,T())&&!r.direction||!ee?ie:ee;if("direction"in r&&r.direction&&X.pages.length){const te=r.direction==="backward",je=(te?Ot:$e)(B,X,r.originalArgs);K=await z(X,je,V,te)}else{const{initialPageParam:te=B.initialPageParam}=r,le=ee?.pageParams??[],je=le[0]??te,Ut=le.length;K=await z(X,je,V),x&&(K={data:K.data.pages[0]});for(let Ye=1;Ye<Ut;Ye++){const xt=$e(B,K.data,r.originalArgs);K=await z(K.data,xt,V)}}_=K}else _=await H(r.originalArgs);return F&&!L&&_.meta&&(_.meta=await re(F,_.meta,"metaSchema",_.meta)),D(_.data,fe({fulfilledTimeStamp:Date.now(),baseQueryMeta:_.meta}))}catch($){let N=$;if(N instanceof dt){let x=Q(k,"transformErrorResponse");const{rawErrorResponseSchema:_,errorResponseSchema:z}=k;let{value:H,meta:B}=N;try{_&&!L&&(H=await re(_,H,"rawErrorResponseSchema",B)),F&&!L&&(B=await re(F,B,"metaSchema",B));let V=await x(H,B,r.originalArgs);return z&&!L&&(V=await re(z,V,"errorResponseSchema",B)),g(V,fe({baseQueryMeta:B}))}catch(V){N=V}}try{if(N instanceof Dt){const x={endpoint:r.endpointName,arg:r.originalArgs,type:r.type,queryCacheKey:r.type==="query"?r.queryCacheKey:void 0};k.onSchemaFailure?.(N,x),q?.(N,x);const{catchSchemaFailure:_=P}=k;if(_)return g(_(N,x),fe({baseQueryMeta:N._bqMeta}))}}catch(x){N=x}throw console.error(N),N}};function f(r,o){const c=b.selectQueryEntry(o,r.queryCacheKey),g=b.selectConfig(o).refetchOnMountOrArgChange,D=c?.fulfilledTimeStamp,O=r.forceRefetch??(r.subscribe&&g);return O?O===!0||(Number(new Date)-Number(D))/1e3>=O:!1}const C=()=>st(`${e}/executeQuery`,M,{getPendingMeta({arg:o}){const c=i[o.endpointName];return fe({startedTimeStamp:Date.now(),...ke(c)?{direction:o.direction}:{}})},condition(o,{getState:c}){const g=c(),D=b.selectQueryEntry(g,o.queryCacheKey),O=D?.fulfilledTimeStamp,T=o.originalArgs,j=D?.originalArgs,k=i[o.endpointName],F=o.direction;return Ve(o)?!0:D?.status==="pending"?!1:f(o,g)||Te(k)&&k?.forceRefetch?.({currentArg:T,previousArg:j,endpointState:D,state:g})?!0:!(O&&!F)},dispatchConditionRejection:!0}),u=C(),n=C(),l=st(`${e}/executeMutation`,M,{getPendingMeta(){return fe({startedTimeStamp:Date.now()})}}),v=r=>"force"in r,m=r=>"ifOlderThan"in r,E=(r,o,c)=>(g,D)=>{const O=v(c)&&c.force,T=m(c)&&c.ifOlderThan,j=(F=!0)=>{const L={forceRefetch:F,isPrefetch:!0};return d.endpoints[r].initiate(o,L)},k=d.endpoints[r].select(o)(D());if(O)g(j());else if(T){const F=k?.fulfilledTimeStamp;if(!F){g(j());return}(Number(new Date)-Number(new Date(F)))/1e3>=T&&g(j())}else g(j(!1))};function p(r){return o=>o?.meta?.arg?.endpointName===r}function s(r,o){return{matchPending:me(He(r),p(o)),matchFulfilled:me(ne(r),p(o)),matchRejected:me(ce(r),p(o))}}return{queryThunk:u,mutationThunk:l,infiniteQueryThunk:n,prefetch:E,updateQueryData:y,upsertQueryData:I,patchQueryData:A,buildMatchThunkActions:s}}function $e(e,{pages:t,pageParams:i},a){const d=t.length-1;return e.getNextPageParam(t[d],t,i[d],i,a)}function Ot(e,{pages:t,pageParams:i},a){return e.getPreviousPageParam?.(t[0],t,i[0],i,a)}function Tt(e,t,i,a){return Xe(i[e.meta.arg.endpointName][t],ne(e)?e.payload:void 0,Oe(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,a)}function Ee(e,t,i){const a=e[t];a&&i(a)}function be(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function ft(e,t,i){const a=e[be(t)];a&&i(a)}var Pe={};function jn({reducerPath:e,queryThunk:t,mutationThunk:i,serializeQueryArgs:a,context:{endpointDefinitions:d,apiUid:S,extractRehydrationInfo:b,hasRehydrationInfo:q},assertTagType:P,config:w}){const A=J(`${e}/resetApiState`);function R(p,s,r,o){p[s.queryCacheKey]??={status:"uninitialized",endpointName:s.endpointName},Ee(p,s.queryCacheKey,c=>{c.status="pending",c.requestId=r&&c.requestId?c.requestId:o.requestId,s.originalArgs!==void 0&&(c.originalArgs=s.originalArgs),c.startedTimeStamp=o.startedTimeStamp;const g=d[o.arg.endpointName];ke(g)&&"direction"in s&&(c.direction=s.direction)})}function h(p,s,r,o){Ee(p,s.arg.queryCacheKey,c=>{if(c.requestId!==s.requestId&&!o)return;const{merge:g}=d[s.arg.endpointName];if(c.status="fulfilled",g)if(c.data!==void 0){const{fulfilledTimeStamp:D,arg:O,baseQueryMeta:T,requestId:j}=s;let k=Se(c.data,F=>g(F,r,{arg:O.originalArgs,baseQueryMeta:T,fulfilledTimeStamp:D,requestId:j}));c.data=k}else c.data=r;else c.data=d[s.arg.endpointName].structuralSharing??!0?It(Rt(c.data)?Bt(c.data):c.data,r):r;delete c.error,c.fulfilledTimeStamp=s.fulfilledTimeStamp})}const y=oe({name:`${e}/queries`,initialState:Pe,reducers:{removeQueryResult:{reducer(p,{payload:{queryCacheKey:s}}){delete p[s]},prepare:de()},cacheEntriesUpserted:{reducer(p,s){for(const r of s.payload){const{queryDescription:o,value:c}=r;R(p,o,!0,{arg:o,requestId:s.meta.requestId,startedTimeStamp:s.meta.timestamp}),h(p,{arg:o,requestId:s.meta.requestId,fulfilledTimeStamp:s.meta.timestamp,baseQueryMeta:{}},c,!0)}},prepare:p=>({payload:p.map(o=>{const{endpointName:c,arg:g,value:D}=o,O=d[c];return{queryDescription:{type:"query",endpointName:c,originalArgs:o.arg,queryCacheKey:a({queryArgs:g,endpointDefinition:O,endpointName:c})},value:D}}),meta:{[Ce]:!0,requestId:We(),timestamp:Date.now()}})},queryResultPatched:{reducer(p,{payload:{queryCacheKey:s,patches:r}}){Ee(p,s,o=>{o.data=Ze(o.data,r.concat())})},prepare:de()}},extraReducers(p){p.addCase(t.pending,(s,{meta:r,meta:{arg:o}})=>{const c=Ve(o);R(s,o,c,r)}).addCase(t.fulfilled,(s,{meta:r,payload:o})=>{const c=Ve(r.arg);h(s,r,o,c)}).addCase(t.rejected,(s,{meta:{condition:r,arg:o,requestId:c},error:g,payload:D})=>{Ee(s,o.queryCacheKey,O=>{if(!r){if(O.requestId!==c)return;O.status="rejected",O.error=D??g}})}).addMatcher(q,(s,r)=>{const{queries:o}=b(r);for(const[c,g]of Object.entries(o))(g?.status==="fulfilled"||g?.status==="rejected")&&(s[c]=g)})}}),I=oe({name:`${e}/mutations`,initialState:Pe,reducers:{removeMutationResult:{reducer(p,{payload:s}){const r=be(s);r in p&&delete p[r]},prepare:de()}},extraReducers(p){p.addCase(i.pending,(s,{meta:r,meta:{requestId:o,arg:c,startedTimeStamp:g}})=>{c.track&&(s[be(r)]={requestId:o,status:"pending",endpointName:c.endpointName,startedTimeStamp:g})}).addCase(i.fulfilled,(s,{payload:r,meta:o})=>{o.arg.track&&ft(s,o,c=>{c.requestId===o.requestId&&(c.status="fulfilled",c.data=r,c.fulfilledTimeStamp=o.fulfilledTimeStamp)})}).addCase(i.rejected,(s,{payload:r,error:o,meta:c})=>{c.arg.track&&ft(s,c,g=>{g.requestId===c.requestId&&(g.status="rejected",g.error=r??o)})}).addMatcher(q,(s,r)=>{const{mutations:o}=b(r);for(const[c,g]of Object.entries(o))(g?.status==="fulfilled"||g?.status==="rejected")&&c!==g?.requestId&&(s[c]=g)})}}),Q={tags:{},keys:{}},M=oe({name:`${e}/invalidation`,initialState:Q,reducers:{updateProvidedBy:{reducer(p,s){for(const{queryCacheKey:r,providedTags:o}of s.payload){f(p,r);for(const{type:c,id:g}of o){const D=(p.tags[c]??={})[g||"__internal_without_id"]??=[];D.includes(r)||D.push(r)}p.keys[r]=o}},prepare:de()}},extraReducers(p){p.addCase(y.actions.removeQueryResult,(s,{payload:{queryCacheKey:r}})=>{f(s,r)}).addMatcher(q,(s,r)=>{const{provided:o}=b(r);for(const[c,g]of Object.entries(o))for(const[D,O]of Object.entries(g)){const T=(s.tags[c]??={})[D||"__internal_without_id"]??=[];for(const j of O)T.includes(j)||T.push(j)}}).addMatcher(Z(ne(t),Oe(t)),(s,r)=>{C(s,[r])}).addMatcher(y.actions.cacheEntriesUpserted.match,(s,r)=>{const o=r.payload.map(({queryDescription:c,value:g})=>({type:"UNKNOWN",payload:g,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:c}}));C(s,o)})}});function f(p,s){const r=p.keys[s]??[];for(const o of r){const c=o.type,g=o.id??"__internal_without_id",D=p.tags[c]?.[g];D&&(p.tags[c][g]=D.filter(O=>O!==s))}delete p.keys[s]}function C(p,s){const r=s.map(o=>{const c=Tt(o,"providesTags",d,P),{queryCacheKey:g}=o.meta.arg;return{queryCacheKey:g,providedTags:c}});M.caseReducers.updateProvidedBy(p,M.actions.updateProvidedBy(r))}const u=oe({name:`${e}/subscriptions`,initialState:Pe,reducers:{updateSubscriptionOptions(p,s){},unsubscribeQueryResult(p,s){},internal_getRTKQSubscriptions(){}}}),n=oe({name:`${e}/internalSubscriptions`,initialState:Pe,reducers:{subscriptionsUpdated:{reducer(p,s){return Ze(p,s.payload)},prepare:de()}}}),l=oe({name:`${e}/config`,initialState:{online:wn(),focused:Rn(),middlewareRegistered:!1,...w},reducers:{middlewareRegistered(p,{payload:s}){p.middlewareRegistered=p.middlewareRegistered==="conflict"||S!==s?"conflict":!0}},extraReducers:p=>{p.addCase(Ge,s=>{s.online=!0}).addCase(Ct,s=>{s.online=!1}).addCase(Je,s=>{s.focused=!0}).addCase(Qt,s=>{s.focused=!1}).addMatcher(q,s=>({...s}))}}),v=vt({queries:y.reducer,mutations:I.reducer,provided:M.reducer,subscriptions:n.reducer,config:l.reducer}),m=(p,s)=>v(A.match(s)?void 0:p,s),E={...l.actions,...y.actions,...u.actions,...n.actions,...I.actions,...M.actions,resetApiState:A};return{reducer:m,actions:E}}var W=Symbol.for("RTKQ/skipToken"),kt={status:"uninitialized"},pt=Se(kt,()=>{}),yt=Se(kt,()=>{});function _n({serializeQueryArgs:e,reducerPath:t,createSelector:i}){const a=u=>pt,d=u=>yt;return{buildQuerySelector:h,buildInfiniteQuerySelector:y,buildMutationSelector:I,selectInvalidatedBy:Q,selectCachedArgsForQuery:M,selectApiState:b,selectQueries:q,selectMutations:w,selectQueryEntry:P,selectConfig:A};function S(u){return{...u,...ot(u.status)}}function b(u){return u[t]}function q(u){return b(u)?.queries}function P(u,n){return q(u)?.[n]}function w(u){return b(u)?.mutations}function A(u){return b(u)?.config}function R(u,n,l){return v=>{if(v===W)return i(a,l);const m=e({queryArgs:v,endpointDefinition:n,endpointName:u});return i(p=>P(p,m)??pt,l)}}function h(u,n){return R(u,n,S)}function y(u,n){const{infiniteQueryOptions:l}=n;function v(m){const E={...m,...ot(m.status)},{isLoading:p,isError:s,direction:r}=E,o=r==="forward",c=r==="backward";return{...E,hasNextPage:f(l,E.data,E.originalArgs),hasPreviousPage:C(l,E.data,E.originalArgs),isFetchingNextPage:p&&o,isFetchingPreviousPage:p&&c,isFetchNextPageError:s&&o,isFetchPreviousPageError:s&&c}}return R(u,n,v)}function I(){return u=>{let n;return typeof u=="object"?n=be(u)??W:n=u,i(n===W?d:m=>b(m)?.mutations?.[n]??yt,S)}}function Q(u,n){const l=u[t],v=new Set;for(const m of n.filter(qe).map(Be)){const E=l.provided.tags[m.type];if(!E)continue;let p=(m.id!==void 0?E[m.id]:at(Object.values(E)))??[];for(const s of p)v.add(s)}return at(Array.from(v.values()).map(m=>{const E=l.queries[m];return E?[{queryCacheKey:m,endpointName:E.endpointName,originalArgs:E.originalArgs}]:[]}))}function M(u,n){return Object.values(q(u)).filter(l=>l?.endpointName===n&&l.status!=="uninitialized").map(l=>l.originalArgs)}function f(u,n,l){return n?$e(u,n,l)!=null:!1}function C(u,n,l){return!n||!u.getPreviousPageParam?!1:Ot(u,n,l)!=null}}var ht=WeakMap?new WeakMap:void 0,Qe=({endpointName:e,queryArgs:t})=>{let i="";const a=ht?.get(t);if(typeof a=="string")i=a;else{const d=JSON.stringify(t,(S,b)=>(b=typeof b=="bigint"?{$bigint:b.toString()}:b,b=ae(b)?Object.keys(b).sort().reduce((q,P)=>(q[P]=b[P],q),{}):b,b));ae(t)&&ht?.set(t,d),i=d}return`${e}(${i})`};function jt(...e){return function(i){const a=et(w=>i.extractRehydrationInfo?.(w,{reducerPath:i.reducerPath??"api"})),d={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...i,extractRehydrationInfo:a,serializeQueryArgs(w){let A=Qe;if("serializeQueryArgs"in w.endpointDefinition){const R=w.endpointDefinition.serializeQueryArgs;A=h=>{const y=R(h);return typeof y=="string"?y:Qe({...h,queryArgs:y})}}else i.serializeQueryArgs&&(A=i.serializeQueryArgs);return A(w)},tagTypes:[...i.tagTypes||[]]},S={endpointDefinitions:{},batch(w){w()},apiUid:We(),extractRehydrationInfo:a,hasRehydrationInfo:et(w=>a(w)!=null)},b={injectEndpoints:P,enhanceEndpoints({addTagTypes:w,endpoints:A}){if(w)for(const R of w)d.tagTypes.includes(R)||d.tagTypes.push(R);if(A)for(const[R,h]of Object.entries(A))typeof h=="function"?h(S.endpointDefinitions[R]):Object.assign(S.endpointDefinitions[R]||{},h);return b}},q=e.map(w=>w.init(b,d,S));function P(w){const A=w.endpoints({query:R=>({...R,type:"query"}),mutation:R=>({...R,type:"mutation"}),infiniteQuery:R=>({...R,type:"infinitequery"})});for(const[R,h]of Object.entries(A)){if(w.overrideExisting!==!0&&R in S.endpointDefinitions){if(w.overrideExisting==="throw")throw new Error(G(39));continue}S.endpointDefinitions[R]=h;for(const y of q)y.injectEndpoint(R,h)}return b}return b.injectEndpoints({endpoints:i.endpoints})}}function Y(e,...t){return Object.assign(e,...t)}var Fn=({api:e,queryThunk:t,internalState:i})=>{const a=`${e.reducerPath}/subscriptions`;let d=null,S=null;const{updateSubscriptionOptions:b,unsubscribeQueryResult:q}=e.internalActions,P=(y,I)=>{if(b.match(I)){const{queryCacheKey:M,requestId:f,options:C}=I.payload;return y?.[M]?.[f]&&(y[M][f]=C),!0}if(q.match(I)){const{queryCacheKey:M,requestId:f}=I.payload;return y[M]&&delete y[M][f],!0}if(e.internalActions.removeQueryResult.match(I))return delete y[I.payload.queryCacheKey],!0;if(t.pending.match(I)){const{meta:{arg:M,requestId:f}}=I,C=y[M.queryCacheKey]??={};return C[`${f}_running`]={},M.subscribe&&(C[f]=M.subscriptionOptions??C[f]??{}),!0}let Q=!1;if(t.fulfilled.match(I)||t.rejected.match(I)){const M=y[I.meta.arg.queryCacheKey]||{},f=`${I.meta.requestId}_running`;Q||=!!M[f],delete M[f]}if(t.rejected.match(I)){const{meta:{condition:M,arg:f,requestId:C}}=I;if(M&&f.subscribe){const u=y[f.queryCacheKey]??={};u[C]=f.subscriptionOptions??u[C]??{},Q=!0}}return Q},w=()=>i.currentSubscriptions,h={getSubscriptions:w,getSubscriptionCount:y=>{const Q=w()[y]??{};return ue(Q)},isRequestSubscribed:(y,I)=>!!w()?.[y]?.[I]};return(y,I)=>{if(d||(d=JSON.parse(JSON.stringify(i.currentSubscriptions))),e.util.resetApiState.match(y))return d=i.currentSubscriptions={},S=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(y))return[!1,h];const Q=P(i.currentSubscriptions,y);let M=!0;if(Q){S||(S=setTimeout(()=>{const u=JSON.parse(JSON.stringify(i.currentSubscriptions)),[,n]=wt(d,()=>u);I.next(e.internalActions.subscriptionsUpdated(n)),d=u,S=null},500));const f=typeof y.type=="string"&&!!y.type.startsWith(a),C=t.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe;M=!f&&!C}return[M,!1]}};function Un(e){for(const t in e)return!1;return!0}var xn=2147483647/1e3-1,Nn=({reducerPath:e,api:t,queryThunk:i,context:a,internalState:d,selectors:{selectQueryEntry:S,selectConfig:b}})=>{const{removeQueryResult:q,unsubscribeQueryResult:P,cacheEntriesUpserted:w}=t.internalActions,A=Z(P.match,i.fulfilled,i.rejected,w.match);function R(M){const f=d.currentSubscriptions[M];return!!f&&!Un(f)}const h={},y=(M,f,C)=>{const u=f.getState(),n=b(u);if(A(M)){let l;if(w.match(M))l=M.payload.map(v=>v.queryDescription.queryCacheKey);else{const{queryCacheKey:v}=P.match(M)?M.payload:M.meta.arg;l=[v]}I(l,f,n)}if(t.util.resetApiState.match(M))for(const[l,v]of Object.entries(h))v&&clearTimeout(v),delete h[l];if(a.hasRehydrationInfo(M)){const{queries:l}=a.extractRehydrationInfo(M);I(Object.keys(l),f,n)}};function I(M,f,C){const u=f.getState();for(const n of M){const l=S(u,n);Q(n,l?.endpointName,f,C)}}function Q(M,f,C,u){const l=a.endpointDefinitions[f]?.keepUnusedDataFor??u.keepUnusedDataFor;if(l===1/0)return;const v=Math.max(0,Math.min(l,xn));if(!R(M)){const m=h[M];m&&clearTimeout(m),h[M]=setTimeout(()=>{R(M)||C.dispatch(q({queryCacheKey:M})),delete h[M]},v*1e3)}}return y},mt=new Error("Promise never resolved before cacheEntryRemoved."),Ln=({api:e,reducerPath:t,context:i,queryThunk:a,mutationThunk:d,internalState:S,selectors:{selectQueryEntry:b,selectApiState:q}})=>{const P=ze(a),w=ze(d),A=ne(a,d),R={};function h(f,C,u){const n=R[f];n?.valueResolved&&(n.valueResolved({data:C,meta:u}),delete n.valueResolved)}function y(f){const C=R[f];C&&(delete R[f],C.cacheEntryRemoved())}const I=(f,C,u)=>{const n=Q(f);function l(v,m,E,p){const s=b(u,m),r=b(C.getState(),m);!s&&r&&M(v,p,m,C,E)}if(a.pending.match(f))l(f.meta.arg.endpointName,n,f.meta.requestId,f.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(f))for(const{queryDescription:v,value:m}of f.payload){const{endpointName:E,originalArgs:p,queryCacheKey:s}=v;l(E,s,f.meta.requestId,p),h(s,m,{})}else if(d.pending.match(f))C.getState()[t].mutations[n]&&M(f.meta.arg.endpointName,f.meta.arg.originalArgs,n,C,f.meta.requestId);else if(A(f))h(n,f.payload,f.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(f)||e.internalActions.removeMutationResult.match(f))y(n);else if(e.util.resetApiState.match(f))for(const v of Object.keys(R))y(v)};function Q(f){return P(f)?f.meta.arg.queryCacheKey:w(f)?f.meta.arg.fixedCacheKey??f.meta.requestId:e.internalActions.removeQueryResult.match(f)?f.payload.queryCacheKey:e.internalActions.removeMutationResult.match(f)?be(f.payload):""}function M(f,C,u,n,l){const v=i.endpointDefinitions[f],m=v?.onCacheEntryAdded;if(!m)return;const E={},p=new Promise(D=>{E.cacheEntryRemoved=D}),s=Promise.race([new Promise(D=>{E.valueResolved=D}),p.then(()=>{throw mt})]);s.catch(()=>{}),R[u]=E;const r=e.endpoints[f].select(Ie(v)?C:u),o=n.dispatch((D,O,T)=>T),c={...n,getCacheEntry:()=>r(n.getState()),requestId:l,extra:o,updateCachedData:Ie(v)?D=>n.dispatch(e.util.updateQueryData(f,C,D)):void 0,cacheDataLoaded:s,cacheEntryRemoved:p},g=m(C,c);Promise.resolve(g).catch(D=>{if(D!==mt)throw D})}return I},zn=({api:e,context:{apiUid:t},reducerPath:i})=>(a,d)=>{e.util.resetApiState.match(a)&&d.dispatch(e.internalActions.middlewareRegistered(t))},Bn=({reducerPath:e,context:t,context:{endpointDefinitions:i},mutationThunk:a,queryThunk:d,api:S,assertTagType:b,refetchQuery:q,internalState:P})=>{const{removeQueryResult:w}=S.internalActions,A=Z(ne(a),Oe(a)),R=Z(ne(a,d),ce(a,d));let h=[];const y=(M,f)=>{A(M)?Q(Tt(M,"invalidatesTags",i,b),f):R(M)?Q([],f):S.util.invalidateTags.match(M)&&Q(Xe(M.payload,void 0,void 0,void 0,void 0,b),f)};function I(M){const{queries:f,mutations:C}=M;for(const u of[f,C])for(const n in u)if(u[n]?.status==="pending")return!0;return!1}function Q(M,f){const C=f.getState(),u=C[e];if(h.push(...M),u.config.invalidationBehavior==="delayed"&&I(u))return;const n=h;if(h=[],n.length===0)return;const l=S.util.selectInvalidatedBy(C,n);t.batch(()=>{const v=Array.from(l.values());for(const{queryCacheKey:m}of v){const E=u.queries[m],p=P.currentSubscriptions[m]??{};E&&(ue(p)===0?f.dispatch(w({queryCacheKey:m})):E.status!=="uninitialized"&&f.dispatch(q(E)))}})}return y},Vn=({reducerPath:e,queryThunk:t,api:i,refetchQuery:a,internalState:d})=>{const S={},b=(h,y)=>{(i.internalActions.updateSubscriptionOptions.match(h)||i.internalActions.unsubscribeQueryResult.match(h))&&P(h.payload,y),(t.pending.match(h)||t.rejected.match(h)&&h.meta.condition)&&P(h.meta.arg,y),(t.fulfilled.match(h)||t.rejected.match(h)&&!h.meta.condition)&&q(h.meta.arg,y),i.util.resetApiState.match(h)&&A()};function q({queryCacheKey:h},y){const I=y.getState()[e],Q=I.queries[h],M=d.currentSubscriptions[h];if(!Q||Q.status==="uninitialized")return;const{lowestPollingInterval:f,skipPollingIfUnfocused:C}=R(M);if(!Number.isFinite(f))return;const u=S[h];u?.timeout&&(clearTimeout(u.timeout),u.timeout=void 0);const n=Date.now()+f;S[h]={nextPollTimestamp:n,pollingInterval:f,timeout:setTimeout(()=>{(I.config.focused||!C)&&y.dispatch(a(Q)),q({queryCacheKey:h},y)},f)}}function P({queryCacheKey:h},y){const Q=y.getState()[e].queries[h],M=d.currentSubscriptions[h];if(!Q||Q.status==="uninitialized")return;const{lowestPollingInterval:f}=R(M);if(!Number.isFinite(f)){w(h);return}const C=S[h],u=Date.now()+f;(!C||u<C.nextPollTimestamp)&&q({queryCacheKey:h},y)}function w(h){const y=S[h];y?.timeout&&clearTimeout(y.timeout),delete S[h]}function A(){for(const h of Object.keys(S))w(h)}function R(h={}){let y=!1,I=Number.POSITIVE_INFINITY;for(let Q in h)h[Q].pollingInterval&&(I=Math.min(h[Q].pollingInterval,I),y=h[Q].skipPollingIfUnfocused||y);return{lowestPollingInterval:I,skipPollingIfUnfocused:y}}return b},$n=({api:e,context:t,queryThunk:i,mutationThunk:a})=>{const d=He(i,a),S=ce(i,a),b=ne(i,a),q={};return(w,A)=>{if(d(w)){const{requestId:R,arg:{endpointName:h,originalArgs:y}}=w.meta,I=t.endpointDefinitions[h],Q=I?.onQueryStarted;if(Q){const M={},f=new Promise((l,v)=>{M.resolve=l,M.reject=v});f.catch(()=>{}),q[R]=M;const C=e.endpoints[h].select(Ie(I)?y:R),u=A.dispatch((l,v,m)=>m),n={...A,getCacheEntry:()=>C(A.getState()),requestId:R,extra:u,updateCachedData:Ie(I)?l=>A.dispatch(e.util.updateQueryData(h,y,l)):void 0,queryFulfilled:f};Q(y,n)}}else if(b(w)){const{requestId:R,baseQueryMeta:h}=w.meta;q[R]?.resolve({data:w.payload,meta:h}),delete q[R]}else if(S(w)){const{requestId:R,rejectedWithValue:h,baseQueryMeta:y}=w.meta;q[R]?.reject({error:w.payload??w.error,isUnhandledError:!h,meta:y}),delete q[R]}}},Kn=({reducerPath:e,context:t,api:i,refetchQuery:a,internalState:d})=>{const{removeQueryResult:S}=i.internalActions,b=(P,w)=>{Je.match(P)&&q(w,"refetchOnFocus"),Ge.match(P)&&q(w,"refetchOnReconnect")};function q(P,w){const A=P.getState()[e],R=A.queries,h=d.currentSubscriptions;t.batch(()=>{for(const y of Object.keys(h)){const I=R[y],Q=h[y];if(!Q||!I)continue;(Object.values(Q).some(f=>f[w]===!0)||Object.values(Q).every(f=>f[w]===void 0)&&A.config[w])&&(ue(Q)===0?P.dispatch(S({queryCacheKey:y})):I.status!=="uninitialized"&&P.dispatch(a(I)))}})}return b};function Hn(e){const{reducerPath:t,queryThunk:i,api:a,context:d}=e,{apiUid:S}=d,b={invalidateTags:J(`${t}/invalidateTags`)},q=R=>R.type.startsWith(`${t}/`),P=[zn,Nn,Bn,Vn,Ln,$n];return{middleware:R=>{let h=!1;const I={...e,internalState:{currentSubscriptions:{}},refetchQuery:A,isThisApiSliceAction:q},Q=P.map(C=>C(I)),M=Fn(I),f=Kn(I);return C=>u=>{if(!St(u))return C(u);h||(h=!0,R.dispatch(a.internalActions.middlewareRegistered(S)));const n={...R,next:C},l=R.getState(),[v,m]=M(u,n,l);let E;if(v?E=C(u):E=m,R.getState()[t]&&(f(u,n,l),q(u)||d.hasRehydrationInfo(u)))for(const p of Q)p(u,n,l);return E}},actions:b};function A(R){return e.api.endpoints[R.endpointName].initiate(R.originalArgs,{subscribe:!1,forceRefetch:!0})}}var gt=Symbol(),_t=({createSelector:e=Et}={})=>({name:gt,init(t,{baseQuery:i,tagTypes:a,reducerPath:d,serializeQueryArgs:S,keepUnusedDataFor:b,refetchOnMountOrArgChange:q,refetchOnFocus:P,refetchOnReconnect:w,invalidationBehavior:A,onSchemaFailure:R,catchSchemaFailure:h,skipSchemaValidation:y},I){zt();const Q=_=>_;Object.assign(t,{reducerPath:d,endpoints:{},internalActions:{onOnline:Ge,onOffline:Ct,onFocus:Je,onFocusLost:Qt},util:{}});const M=_n({serializeQueryArgs:S,reducerPath:d,createSelector:e}),{selectInvalidatedBy:f,selectCachedArgsForQuery:C,buildQuerySelector:u,buildInfiniteQuerySelector:n,buildMutationSelector:l}=M;Y(t.util,{selectInvalidatedBy:f,selectCachedArgsForQuery:C});const{queryThunk:v,infiniteQueryThunk:m,mutationThunk:E,patchQueryData:p,updateQueryData:s,upsertQueryData:r,prefetch:o,buildMatchThunkActions:c}=kn({baseQuery:i,reducerPath:d,context:I,api:t,serializeQueryArgs:S,assertTagType:Q,selectors:M,onSchemaFailure:R,catchSchemaFailure:h,skipSchemaValidation:y}),{reducer:g,actions:D}=jn({context:I,queryThunk:v,mutationThunk:E,serializeQueryArgs:S,reducerPath:d,assertTagType:Q,config:{refetchOnFocus:P,refetchOnReconnect:w,refetchOnMountOrArgChange:q,keepUnusedDataFor:b,reducerPath:d,invalidationBehavior:A}});Y(t.util,{patchQueryData:p,updateQueryData:s,upsertQueryData:r,prefetch:o,resetApiState:D.resetApiState,upsertQueryEntries:D.cacheEntriesUpserted}),Y(t.internalActions,D);const{middleware:O,actions:T}=Hn({reducerPath:d,context:I,queryThunk:v,mutationThunk:E,infiniteQueryThunk:m,api:t,assertTagType:Q,selectors:M});Y(t.util,T),Y(t,{reducer:g,middleware:O});const{buildInitiateQuery:j,buildInitiateInfiniteQuery:k,buildInitiateMutation:F,getRunningMutationThunk:L,getRunningMutationsThunk:$,getRunningQueriesThunk:N,getRunningQueryThunk:x}=On({queryThunk:v,mutationThunk:E,infiniteQueryThunk:m,api:t,serializeQueryArgs:S,context:I});return Y(t.util,{getRunningMutationThunk:L,getRunningMutationsThunk:$,getRunningQueryThunk:x,getRunningQueriesThunk:N}),{name:gt,injectEndpoint(_,z){const H=t,B=H.endpoints[_]??={};Te(z)&&Y(B,{name:_,select:u(_,z),initiate:j(_,z)},c(v,_)),Qn(z)&&Y(B,{name:_,select:l(),initiate:F(_)},c(E,_)),ke(z)&&Y(B,{name:_,select:n(_,z),initiate:k(_,z)},c(v,_))}}}});_t();function Me(e){return e.replace(e[0],e[0].toUpperCase())}function Wn(e){return e.type==="query"}function Jn(e){return e.type==="mutation"}function Ft(e){return e.type==="infinitequery"}function pe(e,...t){return Object.assign(e,...t)}var Fe=Symbol();function Ue(e,t,i,a){const d=U.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:i,endpointName:a}):e}),[e,t,i,a]),S=U.useRef(d);return U.useEffect(()=>{S.current.serialized!==d.serialized&&(S.current=d)},[d]),S.current.serialized===d.serialized?S.current.queryArgs:e}function Ae(e){const t=U.useRef(e);return U.useEffect(()=>{he(t.current,e)||(t.current=e)},[e]),he(t.current,e)?t.current:e}var Gn=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xn=Gn(),Yn=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Zn=Yn(),er=()=>Xn||Zn?U.useLayoutEffect:U.useEffect,tr=er(),bt=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:qt.pending}:e;function xe(e,...t){const i={};return t.forEach(a=>{i[a]=e[a]}),i}var Ne=["data","status","isLoading","isSuccess","isError","error"];function nr({api:e,moduleOptions:{batch:t,hooks:{useDispatch:i,useSelector:a,useStore:d},unstable__sideEffectsInRender:S,createSelector:b},serializeQueryArgs:q,context:P}){const w=S?n=>n():U.useEffect;return{buildQueryHooks:f,buildInfiniteQueryHooks:C,buildMutationHook:u,usePrefetch:h};function A(n,l,v){if(l?.endpointName&&n.isUninitialized){const{endpointName:o}=l,c=P.endpointDefinitions[o];v!==W&&q({queryArgs:l.originalArgs,endpointDefinition:c,endpointName:o})===q({queryArgs:v,endpointDefinition:c,endpointName:o})&&(l=void 0)}let m=n.isSuccess?n.data:l?.data;m===void 0&&(m=n.data);const E=m!==void 0,p=n.isLoading,s=(!l||l.isLoading||l.isUninitialized)&&!E&&p,r=n.isSuccess||E&&(p&&!l?.isError||n.isUninitialized);return{...n,data:m,currentData:n.data,isFetching:p,isLoading:s,isSuccess:r}}function R(n,l,v){if(l?.endpointName&&n.isUninitialized){const{endpointName:o}=l,c=P.endpointDefinitions[o];v!==W&&q({queryArgs:l.originalArgs,endpointDefinition:c,endpointName:o})===q({queryArgs:v,endpointDefinition:c,endpointName:o})&&(l=void 0)}let m=n.isSuccess?n.data:l?.data;m===void 0&&(m=n.data);const E=m!==void 0,p=n.isLoading,s=(!l||l.isLoading||l.isUninitialized)&&!E&&p,r=n.isSuccess||p&&E;return{...n,data:m,currentData:n.data,isFetching:p,isLoading:s,isSuccess:r}}function h(n,l){const v=i(),m=Ae(l);return U.useCallback((E,p)=>v(e.util.prefetch(n,E,{...m,...p})),[n,v,m])}function y(n,l,{refetchOnReconnect:v,refetchOnFocus:m,refetchOnMountOrArgChange:E,skip:p=!1,pollingInterval:s=0,skipPollingIfUnfocused:r=!1,...o}={}){const{initiate:c}=e.endpoints[n],g=i(),D=U.useRef(void 0);if(!D.current){const _=g(e.internalActions.internal_getRTKQSubscriptions());D.current=_}const O=Ue(p?W:l,Qe,P.endpointDefinitions[n],n),T=Ae({refetchOnReconnect:v,refetchOnFocus:m,pollingInterval:s,skipPollingIfUnfocused:r}),j=o.initialPageParam,k=Ae(j),F=U.useRef(void 0);let{queryCacheKey:L,requestId:$}=F.current||{},N=!1;L&&$&&(N=D.current.isRequestSubscribed(L,$));const x=!N&&F.current!==void 0;return w(()=>{x&&(F.current=void 0)},[x]),w(()=>{const _=F.current;if(O===W){_?.unsubscribe(),F.current=void 0;return}const z=F.current?.subscriptionOptions;if(!_||_.arg!==O){_?.unsubscribe();const H=g(c(O,{subscriptionOptions:T,forceRefetch:E,...Ft(P.endpointDefinitions[n])?{initialPageParam:k}:{}}));F.current=H}else T!==z&&_.updateSubscriptionOptions(T)},[g,c,E,O,T,x,k,n]),[F,g,c,T]}function I(n,l){return(m,{skip:E=!1,selectFromResult:p}={})=>{const{select:s}=e.endpoints[n],r=Ue(E?W:m,q,P.endpointDefinitions[n],n),o=U.useRef(void 0),c=U.useMemo(()=>b([s(r),(j,k)=>k,j=>r],l,{memoizeOptions:{resultEqualityCheck:he}}),[s,r]),g=U.useMemo(()=>p?b([c],p,{devModeChecks:{identityFunctionCheck:"never"}}):c,[c,p]),D=a(j=>g(j,o.current),he),O=d(),T=c(O.getState(),o.current);return tr(()=>{o.current=T},[T]),D}}function Q(n){U.useEffect(()=>()=>{n.current?.unsubscribe?.(),n.current=void 0},[n])}function M(n){if(!n.current)throw new Error(G(38));return n.current.refetch()}function f(n){const l=(E,p={})=>{const[s]=y(n,E,p);return Q(s),U.useMemo(()=>({refetch:()=>M(s)}),[s])},v=({refetchOnReconnect:E,refetchOnFocus:p,pollingInterval:s=0,skipPollingIfUnfocused:r=!1}={})=>{const{initiate:o}=e.endpoints[n],c=i(),[g,D]=U.useState(Fe),O=U.useRef(void 0),T=Ae({refetchOnReconnect:E,refetchOnFocus:p,pollingInterval:s,skipPollingIfUnfocused:r});w(()=>{const L=O.current?.subscriptionOptions;T!==L&&O.current?.updateSubscriptionOptions(T)},[T]);const j=U.useRef(T);w(()=>{j.current=T},[T]);const k=U.useCallback(function(L,$=!1){let N;return t(()=>{O.current?.unsubscribe(),O.current=N=c(o(L,{subscriptionOptions:j.current,forceRefetch:!$})),D(L)}),N},[c,o]),F=U.useCallback(()=>{O.current?.queryCacheKey&&c(e.internalActions.removeQueryResult({queryCacheKey:O.current?.queryCacheKey}))},[c]);return U.useEffect(()=>()=>{O?.current?.unsubscribe()},[]),U.useEffect(()=>{g!==Fe&&!O.current&&k(g,!0)},[g,k]),U.useMemo(()=>[k,g,{reset:F}],[k,g,F])},m=I(n,A);return{useQueryState:m,useQuerySubscription:l,useLazyQuerySubscription:v,useLazyQuery(E){const[p,s,{reset:r}]=v(E),o=m(s,{...E,skip:s===Fe}),c=U.useMemo(()=>({lastArg:s}),[s]);return U.useMemo(()=>[p,{...o,reset:r},c],[p,o,r,c])},useQuery(E,p){const s=l(E,p),r=m(E,{selectFromResult:E===W||p?.skip?void 0:bt,...p}),o=xe(r,...Ne);return U.useDebugValue(o),U.useMemo(()=>({...r,...s}),[r,s])}}}function C(n){const l=(m,E={})=>{const[p,s,r,o]=y(n,m,E),c=U.useRef(o);w(()=>{c.current=o},[o]);const g=U.useCallback(function(T,j){let k;return t(()=>{p.current?.unsubscribe(),p.current=k=s(r(T,{subscriptionOptions:c.current,direction:j}))}),k},[p,s,r]);Q(p);const D=Ue(E.skip?W:m,Qe,P.endpointDefinitions[n],n),O=U.useCallback(()=>M(p),[p]);return U.useMemo(()=>({trigger:g,refetch:O,fetchNextPage:()=>g(D,"forward"),fetchPreviousPage:()=>g(D,"backward")}),[O,g,D])},v=I(n,R);return{useInfiniteQueryState:v,useInfiniteQuerySubscription:l,useInfiniteQuery(m,E){const{refetch:p,fetchNextPage:s,fetchPreviousPage:r}=l(m,E),o=v(m,{selectFromResult:m===W||E?.skip?void 0:bt,...E}),c=xe(o,...Ne,"hasNextPage","hasPreviousPage");return U.useDebugValue(c),U.useMemo(()=>({...o,fetchNextPage:s,fetchPreviousPage:r,refetch:p}),[o,s,r,p])}}}function u(n){return({selectFromResult:l,fixedCacheKey:v}={})=>{const{select:m,initiate:E}=e.endpoints[n],p=i(),[s,r]=U.useState();U.useEffect(()=>()=>{s?.arg.fixedCacheKey||s?.reset()},[s]);const o=U.useCallback(function(L){const $=p(E(L,{fixedCacheKey:v}));return r($),$},[p,E,v]),{requestId:c}=s||{},g=U.useMemo(()=>m({fixedCacheKey:v,requestId:s?.requestId}),[v,s,m]),D=U.useMemo(()=>l?b([g],l):g,[l,g]),O=a(D,he),T=v==null?s?.arg.originalArgs:void 0,j=U.useCallback(()=>{t(()=>{s&&r(void 0),v&&p(e.internalActions.removeMutationResult({requestId:c,fixedCacheKey:v}))})},[p,v,s,c]),k=xe(O,...Ne,"endpointName");U.useDebugValue(k);const F=U.useMemo(()=>({...O,originalArgs:T,reset:j}),[O,T,j]);return U.useMemo(()=>[o,F],[o,F])}}}var rr=Symbol(),ir=({batch:e=Ht,hooks:t={useDispatch:Gt,useSelector:Jt,useStore:Wt},createSelector:i=Et,unstable__sideEffectsInRender:a=!1,...d}={})=>({name:rr,init(S,{serializeQueryArgs:b},q){const P=S,{buildQueryHooks:w,buildInfiniteQueryHooks:A,buildMutationHook:R,usePrefetch:h}=nr({api:S,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:a,createSelector:i},serializeQueryArgs:b,context:q});return pe(P,{usePrefetch:h}),pe(q,{batch:e}),{injectEndpoint(y,I){if(Wn(I)){const{useQuery:Q,useLazyQuery:M,useLazyQuerySubscription:f,useQueryState:C,useQuerySubscription:u}=w(y);pe(P.endpoints[y],{useQuery:Q,useLazyQuery:M,useLazyQuerySubscription:f,useQueryState:C,useQuerySubscription:u}),S[`use${Me(y)}Query`]=Q,S[`useLazy${Me(y)}Query`]=M}if(Jn(I)){const Q=R(y);pe(P.endpoints[y],{useMutation:Q}),S[`use${Me(y)}Mutation`]=Q}else if(Ft(I)){const{useInfiniteQuery:Q,useInfiniteQuerySubscription:M,useInfiniteQueryState:f}=A(y);pe(P.endpoints[y],{useInfiniteQuery:Q,useInfiniteQuerySubscription:M,useInfiniteQueryState:f}),S[`use${Me(y)}InfiniteQuery`]=Q}}}}}),yr=jt(_t(),ir());export{yr as a,fr as b,oe as c,pr as f};
