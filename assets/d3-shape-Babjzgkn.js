import{P as In}from"./d3-path-CimkQT29.js";function p(n){return function(){return n}}const yn=Math.abs,A=Math.atan2,X=Math.cos,Dn=Math.max,fn=Math.min,P=Math.sin,b=Math.sqrt,S=1e-12,V=Math.PI,j=V/2,L=2*V;function Ln(n){return n>1?0:n<-1?V:Math.acos(n)}function vn(n){return n>=1?j:n<=-1?-j:Math.asin(n)}function tn(n){let t=3;return n.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const o=Math.floor(i);if(!(o>=0))throw new RangeError(`invalid digits: ${i}`);t=o}return n},()=>new In(t)}function Vn(n){return n.innerRadius}function Bn(n){return n.outerRadius}function Fn(n){return n.startAngle}function Wn(n){return n.endAngle}function Gn(n){return n&&n.padAngle}function Hn(n,t,i,o,s,r,u,e){var c=i-n,l=o-t,f=u-s,a=e-r,h=a*c-f*l;if(!(h*h<S))return h=(f*(t-r)-a*(n-s))/h,[n+h*c,t+h*l]}function $(n,t,i,o,s,r,u){var e=n-i,c=t-o,l=(u?r:-r)/b(e*e+c*c),f=l*c,a=-l*e,h=n+f,g=t+a,d=i+f,v=o+a,k=(h+d)/2,m=(g+v)/2,w=d-h,x=v-g,T=w*w+x*x,N=s-r,M=h*v-d*g,Y=(x<0?-1:1)*b(Dn(0,N*N*T-M*M)),I=(M*x-w*Y)/T,D=(-M*w-x*Y)/T,z=(M*x+w*Y)/T,E=(-M*w+x*Y)/T,R=I-k,_=D-m,y=z-k,B=E-m;return R*R+_*_>y*y+B*B&&(I=z,D=E),{cx:I,cy:D,x01:-f,y01:-a,x11:I*(s/N-1),y11:D*(s/N-1)}}function pt(){var n=Vn,t=Bn,i=p(0),o=null,s=Fn,r=Wn,u=Gn,e=null,c=tn(l);function l(){var f,a,h=+n.apply(this,arguments),g=+t.apply(this,arguments),d=s.apply(this,arguments)-j,v=r.apply(this,arguments)-j,k=yn(v-d),m=v>d;if(e||(e=f=c()),g<h&&(a=g,g=h,h=a),!(g>S))e.moveTo(0,0);else if(k>L-S)e.moveTo(g*X(d),g*P(d)),e.arc(0,0,g,d,v,!m),h>S&&(e.moveTo(h*X(v),h*P(v)),e.arc(0,0,h,v,d,m));else{var w=d,x=v,T=d,N=v,M=k,Y=k,I=u.apply(this,arguments)/2,D=I>S&&(o?+o.apply(this,arguments):b(h*h+g*g)),z=fn(yn(g-h)/2,+i.apply(this,arguments)),E=z,R=z,_,y;if(D>S){var B=vn(D/h*P(I)),J=vn(D/g*P(I));(M-=B*2)>S?(B*=m?1:-1,T+=B,N-=B):(M=0,T=N=(d+v)/2),(Y-=J*2)>S?(J*=m?1:-1,w+=J,x-=J):(Y=0,w=x=(d+v)/2)}var F=g*X(w),W=g*P(w),K=h*X(N),Q=h*P(N);if(z>S){var U=g*X(x),Z=g*P(x),rn=h*X(T),sn=h*P(T),q;if(k<V)if(q=Hn(F,W,rn,sn,U,Z,K,Q)){var un=F-q[0],ln=W-q[1],cn=U-q[0],an=Z-q[1],mn=1/P(Ln((un*cn+ln*an)/(b(un*un+ln*ln)*b(cn*cn+an*an)))/2),dn=b(q[0]*q[0]+q[1]*q[1]);E=fn(z,(h-dn)/(mn-1)),R=fn(z,(g-dn)/(mn+1))}else E=R=0}Y>S?R>S?(_=$(rn,sn,F,W,g,R,m),y=$(U,Z,K,Q,g,R,m),e.moveTo(_.cx+_.x01,_.cy+_.y01),R<z?e.arc(_.cx,_.cy,R,A(_.y01,_.x01),A(y.y01,y.x01),!m):(e.arc(_.cx,_.cy,R,A(_.y01,_.x01),A(_.y11,_.x11),!m),e.arc(0,0,g,A(_.cy+_.y11,_.cx+_.x11),A(y.cy+y.y11,y.cx+y.x11),!m),e.arc(y.cx,y.cy,R,A(y.y11,y.x11),A(y.y01,y.x01),!m))):(e.moveTo(F,W),e.arc(0,0,g,w,x,!m)):e.moveTo(F,W),!(h>S)||!(M>S)?e.lineTo(K,Q):E>S?(_=$(K,Q,U,Z,h,-E,m),y=$(F,W,rn,sn,h,-E,m),e.lineTo(_.cx+_.x01,_.cy+_.y01),E<z?e.arc(_.cx,_.cy,E,A(_.y01,_.x01),A(y.y01,y.x01),!m):(e.arc(_.cx,_.cy,E,A(_.y01,_.x01),A(_.y11,_.x11),!m),e.arc(0,0,h,A(_.cy+_.y11,_.cx+_.x11),A(y.cy+y.y11,y.cx+y.x11),m),e.arc(y.cx,y.cy,E,A(y.y11,y.x11),A(y.y01,y.x01),!m))):e.arc(0,0,h,N,T,m)}if(e.closePath(),f)return e=null,f+""||null}return l.centroid=function(){var f=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,a=(+s.apply(this,arguments)+ +r.apply(this,arguments))/2-V/2;return[X(a)*f,P(a)*f]},l.innerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:p(+f),l):n},l.outerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:p(+f),l):t},l.cornerRadius=function(f){return arguments.length?(i=typeof f=="function"?f:p(+f),l):i},l.padRadius=function(f){return arguments.length?(o=f==null?null:typeof f=="function"?f:p(+f),l):o},l.startAngle=function(f){return arguments.length?(s=typeof f=="function"?f:p(+f),l):s},l.endAngle=function(f){return arguments.length?(r=typeof f=="function"?f:p(+f),l):r},l.padAngle=function(f){return arguments.length?(u=typeof f=="function"?f:p(+f),l):u},l.context=function(f){return arguments.length?(e=f??null,l):e},l}function en(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function An(n){this._context=n}An.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function Sn(n){return new An(n)}function Nn(n){return n[0]}function Mn(n){return n[1]}function Jn(n,t){var i=p(!0),o=null,s=Sn,r=null,u=tn(e);n=typeof n=="function"?n:n===void 0?Nn:p(n),t=typeof t=="function"?t:t===void 0?Mn:p(t);function e(c){var l,f=(c=en(c)).length,a,h=!1,g;for(o==null&&(r=s(g=u())),l=0;l<=f;++l)!(l<f&&i(a=c[l],l,c))===h&&((h=!h)?r.lineStart():r.lineEnd()),h&&r.point(+n(a,l,c),+t(a,l,c));if(g)return r=null,g+""||null}return e.x=function(c){return arguments.length?(n=typeof c=="function"?c:p(+c),e):n},e.y=function(c){return arguments.length?(t=typeof c=="function"?c:p(+c),e):t},e.defined=function(c){return arguments.length?(i=typeof c=="function"?c:p(!!c),e):i},e.curve=function(c){return arguments.length?(s=c,o!=null&&(r=s(o)),e):s},e.context=function(c){return arguments.length?(c==null?o=r=null:r=s(o=c),e):o},e}function gt(n,t,i){var o=null,s=p(!0),r=null,u=Sn,e=null,c=tn(l);n=typeof n=="function"?n:n===void 0?Nn:p(+n),t=typeof t=="function"?t:p(t===void 0?0:+t),i=typeof i=="function"?i:i===void 0?Mn:p(+i);function l(a){var h,g,d,v=(a=en(a)).length,k,m=!1,w,x=new Array(v),T=new Array(v);for(r==null&&(e=u(w=c())),h=0;h<=v;++h){if(!(h<v&&s(k=a[h],h,a))===m)if(m=!m)g=h,e.areaStart(),e.lineStart();else{for(e.lineEnd(),e.lineStart(),d=h-1;d>=g;--d)e.point(x[d],T[d]);e.lineEnd(),e.areaEnd()}m&&(x[h]=+n(k,h,a),T[h]=+t(k,h,a),e.point(o?+o(k,h,a):x[h],i?+i(k,h,a):T[h]))}if(w)return e=null,w+""||null}function f(){return Jn().defined(s).curve(u).context(r)}return l.x=function(a){return arguments.length?(n=typeof a=="function"?a:p(+a),o=null,l):n},l.x0=function(a){return arguments.length?(n=typeof a=="function"?a:p(+a),l):n},l.x1=function(a){return arguments.length?(o=a==null?null:typeof a=="function"?a:p(+a),l):o},l.y=function(a){return arguments.length?(t=typeof a=="function"?a:p(+a),i=null,l):t},l.y0=function(a){return arguments.length?(t=typeof a=="function"?a:p(+a),l):t},l.y1=function(a){return arguments.length?(i=a==null?null:typeof a=="function"?a:p(+a),l):i},l.lineX0=l.lineY0=function(){return f().x(n).y(t)},l.lineY1=function(){return f().x(n).y(i)},l.lineX1=function(){return f().x(o).y(t)},l.defined=function(a){return arguments.length?(s=typeof a=="function"?a:p(!!a),l):s},l.curve=function(a){return arguments.length?(u=a,r!=null&&(e=u(r)),l):u},l.context=function(a){return arguments.length?(a==null?r=e=null:e=u(r=a),l):r},l}function Kn(n,t){return t<n?-1:t>n?1:t>=n?0:NaN}function Qn(n){return n}function mt(){var n=Qn,t=Kn,i=null,o=p(0),s=p(L),r=p(0);function u(e){var c,l=(e=en(e)).length,f,a,h=0,g=new Array(l),d=new Array(l),v=+o.apply(this,arguments),k=Math.min(L,Math.max(-L,s.apply(this,arguments)-v)),m,w=Math.min(Math.abs(k)/l,r.apply(this,arguments)),x=w*(k<0?-1:1),T;for(c=0;c<l;++c)(T=d[g[c]=c]=+n(e[c],c,e))>0&&(h+=T);for(t!=null?g.sort(function(N,M){return t(d[N],d[M])}):i!=null&&g.sort(function(N,M){return i(e[N],e[M])}),c=0,a=h?(k-l*x)/h:0;c<l;++c,v=m)f=g[c],T=d[f],m=v+(T>0?T*a:0)+x,d[f]={data:e[f],index:c,value:T,startAngle:v,endAngle:m,padAngle:w};return d}return u.value=function(e){return arguments.length?(n=typeof e=="function"?e:p(+e),u):n},u.sortValues=function(e){return arguments.length?(t=e,i=null,u):t},u.sort=function(e){return arguments.length?(i=e,t=null,u):i},u.startAngle=function(e){return arguments.length?(o=typeof e=="function"?e:p(+e),u):o},u.endAngle=function(e){return arguments.length?(s=typeof e=="function"?e:p(+e),u):s},u.padAngle=function(e){return arguments.length?(r=typeof e=="function"?e:p(+e),u):r},u}class Pn{constructor(t,i){this._context=t,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,i){switch(t=+t,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,i,t,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,t,this._y0,t,i);break}}this._x0=t,this._y0=i}}function dt(n){return new Pn(n,!0)}function yt(n){return new Pn(n,!1)}const En={draw(n,t){const i=b(t/V);n.moveTo(i,0),n.arc(0,0,i,0,L)}},Un={draw(n,t){const i=b(t/5)/2;n.moveTo(-3*i,-i),n.lineTo(-i,-i),n.lineTo(-i,-3*i),n.lineTo(i,-3*i),n.lineTo(i,-i),n.lineTo(3*i,-i),n.lineTo(3*i,i),n.lineTo(i,i),n.lineTo(i,3*i),n.lineTo(-i,3*i),n.lineTo(-i,i),n.lineTo(-3*i,i),n.closePath()}},Rn=b(1/3),Zn=Rn*2,$n={draw(n,t){const i=b(t/Zn),o=i*Rn;n.moveTo(0,-i),n.lineTo(o,0),n.lineTo(0,i),n.lineTo(-o,0),n.closePath()}},jn={draw(n,t){const i=b(t),o=-i/2;n.rect(o,o,i,i)}},nt=.8908130915292852,On=P(V/10)/P(7*V/10),tt=P(L/10)*On,it=-X(L/10)*On,et={draw(n,t){const i=b(t*nt),o=tt*i,s=it*i;n.moveTo(0,-i),n.lineTo(o,s);for(let r=1;r<5;++r){const u=L*r/5,e=X(u),c=P(u);n.lineTo(c*i,-e*i),n.lineTo(e*o-c*s,c*o+e*s)}n.closePath()}},hn=b(3),ot={draw(n,t){const i=-b(t/(hn*3));n.moveTo(0,i*2),n.lineTo(-hn*i,-i),n.lineTo(hn*i,-i),n.closePath()}},O=-.5,C=b(3)/2,pn=1/b(12),rt=(pn/2+1)*3,st={draw(n,t){const i=b(t/rt),o=i/2,s=i*pn,r=o,u=i*pn+i,e=-r,c=u;n.moveTo(o,s),n.lineTo(r,u),n.lineTo(e,c),n.lineTo(O*o-C*s,C*o+O*s),n.lineTo(O*r-C*u,C*r+O*u),n.lineTo(O*e-C*c,C*e+O*c),n.lineTo(O*o+C*s,O*s-C*o),n.lineTo(O*r+C*u,O*u-C*r),n.lineTo(O*e+C*c,O*c-C*e),n.closePath()}},vt=[En,Un,$n,jn,et,ot,st];function Tt(n,t){let i=null,o=tn(s);n=typeof n=="function"?n:p(n||En),t=typeof t=="function"?t:p(t===void 0?64:+t);function s(){let r;if(i||(i=r=o()),n.apply(this,arguments).draw(i,+t.apply(this,arguments)),r)return i=null,r+""||null}return s.type=function(r){return arguments.length?(n=typeof r=="function"?r:p(r),s):n},s.size=function(r){return arguments.length?(t=typeof r=="function"?r:p(+r),s):t},s.context=function(r){return arguments.length?(i=r??null,s):i},s}function Tn(n,t,i){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-i),n._x2,n._y2)}function gn(n,t){this._context=n,this._k=(1-t)/6}gn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Tn(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:Tn(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function n(t){function i(o){return new gn(o,t)}return i.tension=function(o){return n(+o)},i})(0);function ut(n,t,i){var o=n._x1,s=n._y1,r=n._x2,u=n._y2;if(n._l01_a>S){var e=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,c=3*n._l01_a*(n._l01_a+n._l12_a);o=(o*e-n._x0*n._l12_2a+n._x2*n._l01_2a)/c,s=(s*e-n._y0*n._l12_2a+n._y2*n._l01_2a)/c}if(n._l23_a>S){var l=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,f=3*n._l23_a*(n._l23_a+n._l12_a);r=(r*l+n._x1*n._l23_2a-t*n._l12_2a)/f,u=(u*l+n._y1*n._l23_2a-i*n._l12_2a)/f}n._context.bezierCurveTo(o,s,r,u,n._x2,n._y2)}function Cn(n,t){this._context=n,this._alpha=t}Cn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var i=this._x2-n,o=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ut(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xt=function n(t){function i(o){return t?new Cn(o,t):new gn(o,0)}return i.alpha=function(o){return n(+o)},i}(.5);function xn(n){return n<0?-1:1}function kn(n,t,i){var o=n._x1-n._x0,s=t-n._x1,r=(n._y1-n._y0)/(o||s<0&&-0),u=(i-n._y1)/(s||o<0&&-0),e=(r*s+u*o)/(o+s);return(xn(r)+xn(u))*Math.min(Math.abs(r),Math.abs(u),.5*Math.abs(e))||0}function wn(n,t){var i=n._x1-n._x0;return i?(3*(n._y1-n._y0)/i-t)/2:t}function _n(n,t,i){var o=n._x0,s=n._y0,r=n._x1,u=n._y1,e=(r-o)/3;n._context.bezierCurveTo(o+e,s+e*t,r-e,u-e*i,r,u)}function nn(n){this._context=n}nn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_n(this,this._t0,wn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var i=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,_n(this,wn(this,i=kn(this,n,t)),i);break;default:_n(this,this._t0,i=kn(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=i}}};function zn(n){this._context=new qn(n)}(zn.prototype=Object.create(nn.prototype)).point=function(n,t){nn.prototype.point.call(this,t,n)};function qn(n){this._context=n}qn.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,i,o,s,r){this._context.bezierCurveTo(t,n,o,i,r,s)}};function kt(n){return new nn(n)}function wt(n){return new zn(n)}function Xn(n){this._context=n}Xn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,i=n.length;if(i)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),i===2)this._context.lineTo(n[1],t[1]);else for(var o=bn(n),s=bn(t),r=0,u=1;u<i;++r,++u)this._context.bezierCurveTo(o[0][r],s[0][r],o[1][r],s[1][r],n[u],t[u]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function bn(n){var t,i=n.length-1,o,s=new Array(i),r=new Array(i),u=new Array(i);for(s[0]=0,r[0]=2,u[0]=n[0]+2*n[1],t=1;t<i-1;++t)s[t]=1,r[t]=4,u[t]=4*n[t]+2*n[t+1];for(s[i-1]=2,r[i-1]=7,u[i-1]=8*n[i-1]+n[i],t=1;t<i;++t)o=s[t]/r[t-1],r[t]-=o,u[t]-=o*u[t-1];for(s[i-1]=u[i-1]/r[i-1],t=i-2;t>=0;--t)s[t]=(u[t]-s[t+1])/r[t];for(r[i-1]=(n[i]+s[i-1])/2,t=0;t<i-1;++t)r[t]=2*n[t+1]-s[t+1];return[s,r]}function bt(n){return new Xn(n)}function on(n,t){this._context=n,this._t=t}on.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var i=this._x*(1-this._t)+n*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=n,this._y=t}};function At(n){return new on(n,.5)}function St(n){return new on(n,0)}function Nt(n){return new on(n,1)}function G(n,t){if((u=n.length)>1)for(var i=1,o,s,r=n[t[0]],u,e=r.length;i<u;++i)for(s=r,r=n[t[i]],o=0;o<e;++o)r[o][1]+=r[o][0]=isNaN(s[o][1])?s[o][0]:s[o][1]}function H(n){for(var t=n.length,i=new Array(t);--t>=0;)i[t]=t;return i}function lt(n,t){return n[t]}function ct(n){const t=[];return t.key=n,t}function Mt(){var n=p([]),t=H,i=G,o=lt;function s(r){var u=Array.from(n.apply(this,arguments),ct),e,c=u.length,l=-1,f;for(const a of r)for(e=0,++l;e<c;++e)(u[e][l]=[0,+o(a,u[e].key,l,r)]).data=a;for(e=0,f=en(t(u));e<c;++e)u[f[e]].index=e;return i(u,f),u}return s.keys=function(r){return arguments.length?(n=typeof r=="function"?r:p(Array.from(r)),s):n},s.value=function(r){return arguments.length?(o=typeof r=="function"?r:p(+r),s):o},s.order=function(r){return arguments.length?(t=r==null?H:typeof r=="function"?r:p(Array.from(r)),s):t},s.offset=function(r){return arguments.length?(i=r??G,s):i},s}function Pt(n,t){if((o=n.length)>0){for(var i,o,s=0,r=n[0].length,u;s<r;++s){for(u=i=0;i<o;++i)u+=n[i][s][1]||0;if(u)for(i=0;i<o;++i)n[i][s][1]/=u}G(n,t)}}function Et(n,t){if((c=n.length)>0)for(var i,o=0,s,r,u,e,c,l=n[t[0]].length;o<l;++o)for(u=e=0,i=0;i<c;++i)(r=(s=n[t[i]][o])[1]-s[0])>0?(s[0]=u,s[1]=u+=r):r<0?(s[1]=e,s[0]=e+=r):(s[0]=0,s[1]=r)}function Rt(n,t){if((s=n.length)>0){for(var i=0,o=n[t[0]],s,r=o.length;i<r;++i){for(var u=0,e=0;u<s;++u)e+=n[u][i][1]||0;o[i][1]+=o[i][0]=-e/2}G(n,t)}}function Ot(n,t){if(!(!((u=n.length)>0)||!((r=(s=n[t[0]]).length)>0))){for(var i=0,o=1,s,r,u;o<r;++o){for(var e=0,c=0,l=0;e<u;++e){for(var f=n[t[e]],a=f[o][1]||0,h=f[o-1][1]||0,g=(a-h)/2,d=0;d<e;++d){var v=n[t[d]],k=v[o][1]||0,m=v[o-1][1]||0;g+=k-m}c+=a,l+=g*a}s[o-1][1]+=s[o-1][0]=i,c&&(i-=l/c)}s[o-1][1]+=s[o-1][0]=i,G(n,t)}}function at(n){var t=n.map(ft);return H(n).sort(function(i,o){return t[i]-t[o]})}function ft(n){for(var t=-1,i=0,o=n.length,s,r=-1/0;++t<o;)(s=+n[t][1])>r&&(r=s,i=t);return i}function ht(n){var t=n.map(Yn);return H(n).sort(function(i,o){return t[i]-t[o]})}function Yn(n){for(var t=0,i=-1,o=n.length,s;++i<o;)(s=+n[i][1])&&(t+=s);return t}function Ct(n){return ht(n).reverse()}function zt(n){var t=n.length,i,o,s=n.map(Yn),r=at(n),u=0,e=0,c=[],l=[];for(i=0;i<t;++i)o=r[i],u<e?(u+=s[o],c.push(o)):(e+=s[o],l.push(o));return l.reverse().concat(c)}function qt(n){return H(n).reverse()}export{vt as A,Tt as S,H as a,Ot as b,Rt as c,G as d,Et as e,Pt as f,qt as g,zt as h,Ct as i,ht as j,at as k,Mt as l,mt as m,pt as n,kt as o,dt as p,yt as q,St as r,Nt as s,At as t,bt as u,wt as v,Sn as w,xt as x,gt as y,Jn as z};
